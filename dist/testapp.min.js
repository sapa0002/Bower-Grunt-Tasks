/*! hello I am an app - v - 2015-11-18
* Copyright (c) 2015 Abix; Licensed  */
angular.module("starter",["ionic","starter.controllers","starter.services","ngCordova","ngStorage"]).run(function(a){a.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}).config(function(a,b){a.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AppCtrl"}).state("app.search",{url:"/search",views:{menuContent:{templateUrl:"templates/search.html"}}}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"templates/settings.html"}}}).state("app.todo",{url:"/todo/:todo_id",views:{menuContent:{templateUrl:"templates/todo.html",controller:"TodoBizCtrl"}}}),b.otherwise("/app/search")}),angular.module("starter.controllers",["ngCordova"]).controller("AppCtrl",function(a,b,c,d){d.pushNotification={checked:!0},d.pushNotification2={checked:!0},a.loginData={},b.fromTemplateUrl("templates/login.html",{scope:a}).then(function(b){a.modal=b}),a.closeLogin=function(){a.modal.hide()},a.login=function(){a.modal.show()},a.doLogin=function(){console.log("Doing login",a.loginData),c(function(){a.closeLogin()},1e3)}}).controller("SettingsCtrl",function(){}).controller("TodoBizCtrl",function(a,b,c,d,e,f){a.tasks=b.all(c.todo_id),a.todobiz={task:""},a.addTask=function(){b.add({name:a.todobiz.task,status:!1},c.todo_id),a.todobiz.task="",0===a.tasks.length&&(a.tasks=b.all(c.todo_id))},a.removeTask=function(a){b.remove(a,c.todo_id)},a.changed=function(b){if(e.pushNotification.checked&&a.tasks[b].status)try{d.vibrate(500)}catch(c){alert("vibration")}if(e.pushNotification2.checked){for(var g=0,h=0;h<a.tasks.length;h++)a.tasks[h].status&&g++;if(g==a.tasks.length){try{f.schedule({text:"Tasks completed"})}catch(c){alert("notification")}console.log(g)}}}}),angular.module("starter.services",["ngStorage"]).factory("taskservices",function(a){var b=[];return a.toDoLists&&(b=a.toDoLists),{all:function(a){for(var c=0;c<b.length;c++){var d=b[c];if(d.id==a)return d.tasks}return[]},remove:function(c,d){for(var e=0;e<b.length;e++){var f=b[e];f.id==d&&(f.tasks.splice(c,1),a.toDoLists=b)}},add:function(c,d){for(var e=0;e<b.length;e++){var f=b[e];if(f.id==d)return f.tasks.push(c),void(a.toDoLists=b)}b.push({id:d,tasks:[c]}),a.toDoLists=b}}});